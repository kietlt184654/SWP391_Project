<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Chat Application</title>-->
<!--    <style>-->
<!--        #chatbox {-->
<!--            border: 1px solid #ccc;-->
<!--            width: 400px;-->
<!--            height: 400px;-->
<!--            overflow-y: scroll;-->
<!--            padding: 10px;-->
<!--            margin-bottom: 10px;-->
<!--        }-->
<!--        #messageInput {-->
<!--            width: 300px;-->
<!--            padding: 10px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<h3 th:if="${loggedInUser != null}">-->
<!--    Xin chào, <span th:text="${loggedInUser.accountName}">Người dùng</span>! (<span th:text="${loggedInUser.accountTypeID}"></span>)-->
<!--</h3>-->
<!--<h3 th:unless="${loggedInUser != null}">-->
<!--    Xin chào, Người dùng!-->
<!--</h3>-->

<!--<div id="chatbox">-->
<!--    <div id="chatMessages"></div>-->
<!--</div>-->
<!--<input type="text" id="messageInput" placeholder="Nhập tin nhắn..."/>-->
<!--<button onclick="sendMessage()">Gửi</button>-->

<!--<script src="https://cdn.jsdelivr.net/sockjs/1.1.4/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/stomp.js/2.3.3/stomp.min.js"></script>-->
<!--<script>-->
<!--    var stompClient = null;-->

<!--    function connect() {-->
<!--        var socket = new SockJS('/chat-websocket');-->
<!--        stompClient = Stomp.over(socket);-->
<!--        stompClient.connect({}, function (frame) {-->
<!--            console.log('Đã kết nối: ' + frame);-->
<!--            stompClient.subscribe('/user/queue/reply', function (messageOutput) {-->
<!--                showMessage(JSON.parse(messageOutput.body));-->
<!--            });-->
<!--        });-->
<!--    }-->

<!--    function sendMessage() {-->
<!--        var messageContent = document.getElementById("messageInput").value.trim();-->
<!--        if (messageContent && stompClient) {-->
<!--            var sender = "[[${loggedInUser != null ? loggedInUser.accountName : 'Anonymous'}]]";-->
<!--            var chatMessage = {-->
<!--                sender: sender,-->
<!--                content: messageContent-->
<!--            };-->
<!--            stompClient.send("/app/sendMessage", {}, JSON.stringify(chatMessage));-->
<!--            document.getElementById("messageInput").value = "";-->
<!--        }-->
<!--    }-->

<!--    function showMessage(message) {-->
<!--        var chatMessages = document.getElementById("chatMessages");-->
<!--        var messageElement = document.createElement('div');-->
<!--        messageElement.appendChild(document.createTextNode(message.sender + ": " + message.content));-->
<!--        chatMessages.appendChild(messageElement);-->
<!--        chatMessages.scrollTop = chatMessages.scrollHeight; // Cuộn xuống để hiển thị tin nhắn mới nhất-->
<!--    }-->

<!--    connect();-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
