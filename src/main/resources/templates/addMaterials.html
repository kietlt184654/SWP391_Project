<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Chi Tiết Thiết Kế</title>
  <link rel="stylesheet" href="/css/AddMaterial.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<div class="sidebar close">
  <div class="logo-details">
    <i class='bx bxs-ship'></i>
    <span class="logo_name">KoiPond</span>
  </div>
  <!-- Sidebar Navigation -->
</div>

<section class="home-section">
  <div class="home-content">
    <i class='bx bx-menu'></i>
  </div>

  <h2>DESIGN DETAILS</h2>
  <div>
    <p><strong>ID:</strong> <span th:text="${design.designId}"></span></p><br>
    <p><strong>Name:</strong> <span th:text="${design.designName}"></span></p><br>
    <p><strong>Description:</strong> <span th:text="${design.description}"></span></p>
  </div>
  <br>
  <h3>ADD MATERIALS</h3>
  <form th:action="@{'/manager/designs/' + ${design.designId} + '/approve'}" method="post">
    <div id="materialsContainer">
      <!-- Initial Material Group -->
      <div class="form-group material-group">
        <label for="material_0">Materials</label>
        <select class="form-control material-select" id="material_0" name="materials[0].materialId">
          <option value="" disabled selected>Choose materials</option>
          <!-- Thymeleaf processes these options on the server side -->
          <option th:each="material : ${materials}" th:value="${material.materialId}"
                  th:text="${material.materialName + ' (' + material.unit + ')'}"></option>
        </select>
        <input type="number" class="form-control material-quantity" name="materials[0].quantityNeeded"
               placeholder="Quantity" min="1">
      </div>
    </div>

    <button type="button" class="btn btn-primary" onclick="addMaterial()">Add materials</button>
    <button type="submit" class="btn btn-success">Add Ingredients</button>
    <button type="button" class="btn btn-danger" onclick="rejectDesign()">Design Rejection</button>
  </form>
  <script src="/javascript/addMaterial.js"></script>
</section>
</body>
</html>
